(this["webpackJsonpws-board"]=this["webpackJsonpws-board"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(32),a=n.n(s),r=(n(39),n.p,n(40),n(2)),i=n(9),o=n.n(i),l=n(12),j=n(10),d=n(14),b=n.n(d),u=n(7),O=n(33),h=n.n(O),x=n(0);function p(){var e=Object(c.useState)({page:1,itemsCountPerPage:0,totalItemsCount:0,pageRangeDisplayed:0}),t=Object(j.a)(e,2),n=t[0],s=t[1],a=n.page,r=n.itemsCountPerPage,i=n.totalItemsCount,d=n.pageRangeDisplayed,u=Object(c.useState)([]),O=Object(j.a)(u,2),p=O[0],g=O[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/board/list/"+t);case 3:n=e.sent,g(n.data.list),c=n.data.pageMaker,a={page:c.cri.page,itemsCountPerPage:c.cri.perPageNum,totalItemsCount:c.totalCount,pageRangeDisplayed:c.displayPageNum},s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){v(1)}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{className:"table",list:p}),Object(x.jsx)(h.a,{activePage:a,itemsCountPerPage:r,totalItemsCount:i,pageRangeDisplayed:d,prevPageText:"\u2039",nextPageText:"\u203a",onChange:function(e){v(e)}})]})}function f(e){var t=e.list;return Object(x.jsxs)("table",{className:"table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",style:{width:"1200px"},children:"\uc81c\ubaa9"}),Object(x.jsx)("th",{scope:"col",children:"\uc791\uc131\uc790"}),Object(x.jsx)("th",{scope:"col",children:"\ub4f1\ub85d\uc77c"}),Object(x.jsx)("th",{scope:"col",children:"\uc870\ud68c\uc218"})]})}),Object(x.jsx)("tbody",{children:t.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"row",children:Object(x.jsx)(u.b,{to:"/spa/view/".concat(e.id),children:e.title})}),Object(x.jsx)("td",{children:"TEST"}),Object(x.jsx)("td",{children:e.sdate}),Object(x.jsx)("td",{children:e.view})]},e.id)}))})]})}var g=p;var v=function(){return Object(x.jsx)("div",{className:"controll-div",children:Object(x.jsx)(u.b,{to:"/spa/write",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark",style:{float:"right"},children:"\uae00\uc4f0\uae30"})})})};var m=function(e){return e.sendMessage,Object(x.jsxs)("div",{children:[Object(x.jsx)(v,{}),Object(x.jsx)(g,{page:"1"})]})};function y(e){e.id;return Object(x.jsx)("div",{className:"controll-div",children:Object(x.jsxs)("div",{className:"right",children:[Object(x.jsx)(u.b,{to:"/spa/list",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary",children:"\ubaa9\ub85d"})}),Object(x.jsx)("button",{type:"button",onClick:"modifyBoard()",className:"btn btn-success",children:"\uc218\uc815"}),Object(x.jsx)("button",{type:"button",onClick:"deleteBoard()",className:"btn btn-danger",children:"\uc0ad\uc81c"})]})})}function N(e){var t=e.id,n=e.sendMessage,s=Object(c.useState)(),a=Object(j.a)(s,2),r=a[0],i=a[1],d=Object(c.useState)(),b=Object(j.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)(),p=Object(j.a)(h,2),f=p[0],g=p[1];return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n("/ws/board/view",{id:t},(function(e){console.log(e);var t=e.data,n=t.content,c=t.view,s=t.title;O(s),i(n),g(c)}),(function(e){console.error(e)}))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[]),Object(x.jsxs)("div",{className:"board-contain",children:[Object(x.jsx)("div",{className:"view",children:Object(x.jsx)("div",{className:"view-inner",children:f})}),Object(x.jsx)("div",{className:"title",children:u}),Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("pre",{className:"content-inner",children:r})})]})}var w=function(e){var t=e.sendMessage,n=Object(r.f)().id;return Object(x.jsxs)("div",{children:[Object(x.jsx)(y,{id:n}),Object(x.jsx)(N,{id:n,sendMessage:t})]})},C=n(16),P=n(20),M=Object(r.g)((function(e){var t=e.inputs,n=(e.location,e.match,e.history),c=e.sendMessage;function s(){return(s=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c("/ws/board/write",{title:t.title,content:t.content},(function(e){console.log(e)}),(function(e){console.error(e)}))}catch(s){console.log(s)}n.push("/spa/list");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"controll-div",children:Object(x.jsxs)("div",{className:"right",children:[Object(x.jsx)(u.b,{to:"/spa/list",children:Object(x.jsxs)("button",{type:"button",className:"btn btn-secondary",children:[Object(x.jsx)("i",{className:"fas fa-bars"})," \ubaa9\ub85d"]})}),Object(x.jsxs)("button",{type:"button",onClick:function(){return s.apply(this,arguments)},className:"btn btn-success",children:[Object(x.jsx)("i",{className:"fas fa-edit"})," \uc800\uc7a5"]})]})})}));function k(e){var t=e.sendMessage,n=Object(c.useState)({title:"",content:""}),s=Object(j.a)(n,2),a=s[0],r=s[1],i=a.title,o=a.content;function l(e){r(Object(P.a)(Object(P.a)({},a),{},Object(C.a)({},e.target.name,e.target.value)))}return Object(x.jsxs)("div",{children:[Object(x.jsx)(M,{inputs:a,sendMessage:t}),Object(x.jsxs)("div",{className:"board-contain",children:[Object(x.jsxs)("div",{className:"title",children:[Object(x.jsx)("i",{className:"fas fa-align-justify"}),Object(x.jsx)("input",{style:{width:"500px"},value:i,name:"title",type:"text",placeholder:"\uac8c\uc2dc\ud310 \uc81c\ubaa9",onChange:l})]}),Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("textarea",{className:"content-inner",value:o,name:"content",onChange:l})})]})]})}var S=function(e){e.match;var t=e.sendMessage;return Object(x.jsx)(k,{sendMessage:t})};var I=function(){var e,t=[];Object(c.useEffect)((function(){(e=new WebSocket("ws://127.0.0.1:8080/ws/board")).onopen=function(){console.log("connected!!")},e.onclose=function(){console.log("close")},e.onmessage=function(e){try{var n=JSON.parse(e.data);t.some((function(e){if(e.seq==n.seq)return"ok"==n.result.toLocaleLowerCase()?e.success(n):e.fail(n),!0}))}catch(e){console.error(e)}}}),[]);var n=function(n,c,s,a){try{var r=Math.random()+"";t.push({seq:r,success:s,fail:a});var i={path:n,data:c,seq:r};e.send(JSON.stringify(i))}catch(o){console.error(o)}};return Object(x.jsx)("div",{children:Object(x.jsxs)(r.c,{children:[Object(x.jsx)(r.a,{path:"/spa/view/:id",exact:!0,render:function(){return Object(x.jsx)(w,{sendMessage:n})}}),Object(x.jsx)(r.a,{path:"/spa/write/",exact:!0,render:function(){return Object(x.jsx)(S,{sendMessage:n})}}),Object(x.jsx)(r.a,{render:function(){return Object(x.jsx)(m,{sendMessage:n})}})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(69),n(70);a.a.render(Object(x.jsx)(u.a,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),T()}},[[71,1,2]]]);
//# sourceMappingURL=main.457818b9.chunk.js.map