{"version":3,"sources":["logo.svg","board/BoardTable.js","board/ControlButton.js","board/Board.js","view/View.js","write/ControlButton.js","write/Write.js","App.js","reportWebVitals.js","index.js"],"names":["Paging","useState","page","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageManager","setPageManager","list","setList","fetch","a","axios","get","response","data","pageMaker","cri","perPageNum","totalCount","displayPageNum","console","log","useEffect","BoardTr","className","activePage","prevPageText","nextPageText","onChange","scope","style","width","map","l","to","id","title","sdate","view","ControlButton","type","float","Board","sendMessage","onClick","Content","content","setContent","setTitle","setView","error","e","View","useParams","withRouter","inputs","history","location","match","push","setInputs","onChangeTitle","target","name","value","placeholder","App","ws","responseAct","WebSocket","onopen","onclose","onmessage","JSON","parse","some","r","seq","result","toLocaleLowerCase","success","fail","path","Math","random","param","send","stringify","exact","render","Write","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.457818b9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Route, Link } from 'react-router-dom';\nimport Pagination from \"react-js-pagination\";\n\nfunction Paging() {\n    const [pageManager, setPageManager] = useState({\n        page : 1,\n        itemsCountPerPage : 0,\n        totalItemsCount : 0,\n        pageRangeDisplayed : 0,\n    });\n    const {page,\n         itemsCountPerPage,\n         totalItemsCount,\n         pageRangeDisplayed} = pageManager;\n         \n    const [list, setList] = useState([]);\n    const fetch = async (page) => {\n        try {\n            const response = await axios.get(\n                '/api/board/list/' + page\n            );\n            setList(response.data.list);\n            var {pageMaker} = response.data;\n            var pageManager = {\n                page : pageMaker.cri.page,\n                itemsCountPerPage : pageMaker.cri.perPageNum,\n                totalItemsCount : pageMaker.totalCount,\n                pageRangeDisplayed : pageMaker.displayPageNum\n            }\n            setPageManager(pageManager);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n    \n    useEffect(()=>{\n        fetch(1);\n    }, [])\n    \n    const handlePageChange = (page) => {\n            fetch(page);\n        }; \n        return (\n            <div>\n                <BoardTr className=\"table\" list={list} />\n                <Pagination activePage={page} \n                    itemsCountPerPage={itemsCountPerPage} \n                    totalItemsCount={totalItemsCount} \n                    pageRangeDisplayed={pageRangeDisplayed} \n                    prevPageText={\"‹\"} \n                    nextPageText={\"›\"} \n                    onChange={handlePageChange} />\n            </div>\n            );\n\n}\n\nfunction BoardTr({list}){\n\n    return (\n        <table className=\"table\">\n            <thead>\n                <tr>\n                    <th scope=\"col\" style={{width:\"1200px\"}}>\n                        제목\n                    </th>\n                    <th scope=\"col\">\n                        작성자\n                    </th>\n                    <th scope=\"col\">\n                        등록일\n                    </th>\n                    <th scope=\"col\">\n                        조회수\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                {\n                    list.map(l => (\n                        <tr key={l.id}>\n                            <th scope=\"row\">\n                                <Link to={`/spa/view/${l.id}`}>{l.title}</Link>\n                            </th>\n                            <td>\n                                TEST\n                            </td>\n                            <td>\n                                {l.sdate}\n                            </td>\n                            <td>\n                                {l.view}\n                            </td>\n                        </tr>\n                    ))\n                }\n            </tbody>\n\n        </table>\n    )\n}\n\nfunction BoardTable({ page }) {\n    const [list, setList] = useState([]);\n\n    useEffect(() => {\n        const fetch = async () => {\n            try {\n                const response = await axios.get(\n                    './api/board/list/' + page\n                );\n                setList(response.data.list); // 데이터는 response.data 안에 들어있습니다.\n            } catch (e) {\n                console.log(e);\n            }\n            //setLoading(false);\n        };\n        fetch();\n    }, []);\n    return (\n        <div>\n            <BoardTr className=\"table\" list={list} />\n            <Paging />\n        </div>\n        \n        );\n}\n\nexport default Paging;","import react from 'react';\nimport { Link } from 'react-router-dom';\nfunction ControlButton(){\n    return (\n        <div className=\"controll-div\">\n            <Link to=\"/spa/write\">\n                <button type=\"button\" className=\"btn btn-dark\" style={{float:'right'}}>\n                    글쓰기\n                </button>\n            </Link>\n        </div>\n    )\n}\n\nexport default ControlButton;","import react from 'react';\nimport BoardTable from './BoardTable';\nimport ControlButton from './ControlButton';\n\nfunction Board({sendMessage}){\n    //sendMessage('hi');\n    return (\n        <div>\n            <ControlButton />\n            <BoardTable page=\"1\"/>\n        </div>\n    );\n}\nexport default Board;","import react, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction ControlButton({id}){\n\n    return (\n        <div className=\"controll-div\">\n            <div className=\"right\">\n                <Link to=\"/spa/list\"><button type=\"button\" className=\"btn btn-secondary\">목록</button></Link>\n                <button type=\"button\" onClick=\"modifyBoard()\" className=\"btn btn-success\">수정</button>\n                <button type=\"button\" onClick=\"deleteBoard()\" className=\"btn btn-danger\">삭제</button>\n            </div>\n        </div>\n    )\n}\n\nfunction Content({id, sendMessage}){\n    const [content, setContent] = useState();\n    const [title, setTitle] = useState();\n    const [view, setView] = useState();\n    \n    useEffect(() => {\n        const fetch = async (id) => {\n            try {\n                /*\n                const response = await axios.get(\n                    '/api/board/view/' + id\n                );*/\n                sendMessage('/ws/board/view'\n                , {\n                    id:id\n                }\n                , (data) => {\n                    console.log(data);\n                    var {content, view, title} = data.data;\n                    setTitle(title);\n                    setContent(content);\n                    setView(view);\n                }\n                , (data) => {\n                    console.error(data);\n                });\n                /*\n                var {content, id, view, title} = response.data.data;\n                setTitle(title);\n                setContent(content);\n                setView(view);*/\n            } catch (e) {\n                console.log(e);\n            }\n        };\n        fetch(id);\n    }, []);\n    return(\n        <div className=\"board-contain\">\n            <div className=\"view\">\n                <div className=\"view-inner\">\n                    {view}\n                </div>\n            </div>\n            <div className=\"title\">\n                {title}\n            </div>\n            <div className=\"content\">\n                <pre className=\"content-inner\">{content}</pre>\n            </div>\n        </div>\n    )\n}\n\nfunction View({sendMessage}){\n    const {id} = useParams();\n    return(\n    <div>\n        <ControlButton id={id}/>\n        <Content id={id} sendMessage={sendMessage}/>\n    </div>\n    )\n}\n\nexport default View;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst ControlButton = ({ inputs,location, match, history, sendMessage }) => {\n   \n    async function save(){\n        try {\n            sendMessage('/ws/board/write'\n            , {\n                title : inputs.title,\n                content : inputs.content\n                }\n            , (data) => {\n                console.log(data);\n            }\n            , (data) => {\n                console.error(data);\n            });\n        } catch (e) {\n            console.log(e);\n        }\n        history.push('/spa/list')\n    \n    }\n\n    return (\n        <div className=\"controll-div\">\n            <div className=\"right\">\n                <Link to=\"/spa/list\">\n                    <button type=\"button\" className=\"btn btn-secondary\"><i className=\"fas fa-bars\"></i> 목록</button>\n                </Link>\n                <button type=\"button\" onClick={save} className=\"btn btn-success\"><i className=\"fas fa-edit\"></i> 저장</button>\n            </div>\n        </div>\n    )\n  };\n  \n  export default withRouter(ControlButton);","import react, { useEffect, useState } from 'react';\n\nimport axios from 'axios';\nimport ControlButton from './ControlButton';\n\nfunction Content({sendMessage}){\n    const [inputs, setInputs] = useState({\n        \"title\" : \"\",\n        \"content\" : \"\"\n    });\n    const {title, content} = inputs;\n    function onChangeTitle(e){\n        setInputs({\n            ...inputs,\n            [e.target.name] : e.target.value\n        })\n    }\n    return(\n        <div>\n            <ControlButton inputs={inputs} sendMessage={sendMessage}/>\n            <div className=\"board-contain\">\n                <div className=\"title\">\n                    <i className=\"fas fa-align-justify\"></i> \n                    <input style={{\"width\" : \"500px\"}} \n                        value={title}\n                        name=\"title\"\n                        type=\"text\" \n                        placeholder=\"게시판 제목\" \n                        onChange={onChangeTitle}/>\n                </div>\n                <div className=\"content\">\n                    <textarea \n                        className=\"content-inner\" \n                        value={content}\n                        name=\"content\"\n                        onChange={onChangeTitle}>\n                    </textarea>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction View({match, sendMessage}){\n    return(\n    \n        <Content sendMessage={sendMessage}/>\n    \n    )\n}\n\nexport default View;","import logo from './logo.svg';\nimport './App.css';\nimport React, { useRef, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Board from './board/Board';\nimport View from './view/View'\nimport Write from './write/Write'\n\nfunction App() {\n  var ws;\n  //응답 시 콜백\n  var responseAct = [];\n  useEffect(()=>{\n    ws = new WebSocket(\"ws://127.0.0.1:8080/ws/board\");\n  \n    ws.onopen = () => {\n      console.log(\"connected!!\");\n    };\n\n    ws.onclose = () =>{\n      console.log('close');\n    }\n   \n    ws.onmessage = (e) => {\n      try{\n        var data = JSON.parse(e.data);\n        responseAct.some( r => {\n          if(r.seq == data.seq){\n            var {result} = data;\n            if(result.toLocaleLowerCase() == \"ok\"){\n              r.success(data);\n            }else{\n              r.fail(data);\n            }\n            return true;\n          }\n        })\n      }catch(e){\n        console.error(e);\n      }\n    };\n    \n  }, [])\n\n  var sendMessage = (path, data, success, fail) => {\n    try{\n      //요청, 응답 구분 용도\n      var seq = Math.random() + \"\";\n      responseAct.push({\n        seq : seq,\n        success : success,\n        fail : fail\n      })\n      var param = {\n        path : path,\n        data : data,\n        seq : seq,\n      }\n      ws.send(JSON.stringify(param));\n    }catch(e){\n      console.error(e);\n    }\n  };\n  \n  return (\n    <div>\n      <Switch>\n        <Route path=\"/spa/view/:id\" exact={true} \n          render={() => <View sendMessage={sendMessage}/>} />\n        <Route path=\"/spa/write/\" exact={true} \n          render={() => <Write sendMessage={sendMessage}/>} />\n        <Route render={() => <Board sendMessage={sendMessage}/>} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'; \nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './board/style.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}